{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import ChatInput from'./ChatInput';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Chatbox(){const[messages,setMessages]=useState([]);const sendMessage=async message=>{const newMessage={role:'user',content:message};setMessages([...messages,newMessage]);try{const response=await axios.post('/api/chat/',{query:message});console.log(\"Response:\",response.data.response);setMessages([...messages,newMessage,{role:'assistant',content:response.data.response}]);}catch(error){console.error(\"Error sending message:\",error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"chatbox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"messages\",children:messages.map((msg,index)=>/*#__PURE__*/_jsx(\"div\",{className:`message ${msg.role}`,children:msg.content},index))}),/*#__PURE__*/_jsx(ChatInput,{onSend:sendMessage})]});}export default Chatbox;","map":{"version":3,"names":["React","useState","axios","ChatInput","jsx","_jsx","jsxs","_jsxs","Chatbox","messages","setMessages","sendMessage","message","newMessage","role","content","response","post","query","console","log","data","error","className","children","map","msg","index","onSend"],"sources":["/Users/akshaypatil/Desktop/Headstarter/AI_chatbot/frontend/src/components/Chatbox.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport ChatInput from './ChatInput';\n\nfunction Chatbox() {\n  const [messages, setMessages] = useState([]);\n\n  const sendMessage = async (message) => {\n    const newMessage = { role: 'user', content: message };\n    setMessages([...messages, newMessage]);\n\n    try {\n      const response = await axios.post('/api/chat/', { query: message });\n      console.log(\"Response:\", response.data.response);\n      setMessages([\n        ...messages,\n        newMessage,\n        { role: 'assistant', content: response.data.response },\n      ]);\n    } catch (error) {\n      console.error(\"Error sending message:\", error);\n    }\n  };\n\n  return (\n    <div className=\"chatbox\">\n      <div className=\"messages\">\n        {messages.map((msg, index) => (\n          <div key={index} className={`message ${msg.role}`}>\n            {msg.content}\n          </div>\n        ))}\n      </div>\n      <ChatInput onSend={sendMessage} />\n    </div>\n  );\n}\n\nexport default Chatbox;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,SAAS,KAAM,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpC,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACjB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAE5C,KAAM,CAAAU,WAAW,CAAG,KAAO,CAAAC,OAAO,EAAK,CACrC,KAAM,CAAAC,UAAU,CAAG,CAAEC,IAAI,CAAE,MAAM,CAAEC,OAAO,CAAEH,OAAQ,CAAC,CACrDF,WAAW,CAAC,CAAC,GAAGD,QAAQ,CAAEI,UAAU,CAAC,CAAC,CAEtC,GAAI,CACF,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAd,KAAK,CAACe,IAAI,CAAC,YAAY,CAAE,CAAEC,KAAK,CAAEN,OAAQ,CAAC,CAAC,CACnEO,OAAO,CAACC,GAAG,CAAC,WAAW,CAAEJ,QAAQ,CAACK,IAAI,CAACL,QAAQ,CAAC,CAChDN,WAAW,CAAC,CACV,GAAGD,QAAQ,CACXI,UAAU,CACV,CAAEC,IAAI,CAAE,WAAW,CAAEC,OAAO,CAAEC,QAAQ,CAACK,IAAI,CAACL,QAAS,CAAC,CACvD,CAAC,CACJ,CAAE,MAAOM,KAAK,CAAE,CACdH,OAAO,CAACG,KAAK,CAAC,wBAAwB,CAAEA,KAAK,CAAC,CAChD,CACF,CAAC,CAED,mBACEf,KAAA,QAAKgB,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBnB,IAAA,QAAKkB,SAAS,CAAC,UAAU,CAAAC,QAAA,CACtBf,QAAQ,CAACgB,GAAG,CAAC,CAACC,GAAG,CAAEC,KAAK,gBACvBtB,IAAA,QAAiBkB,SAAS,CAAE,WAAWG,GAAG,CAACZ,IAAI,EAAG,CAAAU,QAAA,CAC/CE,GAAG,CAACX,OAAO,EADJY,KAEL,CACN,CAAC,CACC,CAAC,cACNtB,IAAA,CAACF,SAAS,EAACyB,MAAM,CAAEjB,WAAY,CAAE,CAAC,EAC/B,CAAC,CAEV,CAEA,cAAe,CAAAH,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}